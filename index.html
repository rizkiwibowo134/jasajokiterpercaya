<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Jasa Joki Terpercaya</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #e3f2fd 0%, #ffffff 50%, #000000 100%);
            font-family: 'Poppins', sans-serif;
            color: #1565c0;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        header {
            background: linear-gradient(90deg, #0d47a1 0%, #000000 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            animation: slideDown 1s ease-out;
        }
        @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .hamburger { position: absolute; top: 20px; left: 20px; cursor: pointer; z-index: 1000; transition: transform 0.3s; }
        .hamburger:hover { transform: scale(1.1); }
        .hamburger div { width: 25px; height: 3px; background-color: white; margin: 5px 0; transition: 0.3s; }
        .hamburger.active div:nth-child(1) { transform: rotate(-45deg) translate(-5px, 6px); }
        .hamburger.active div:nth-child(2) { opacity: 0; }
        .hamburger.active div:nth-child(3) { transform: rotate(45deg) translate(-5px, -6px); }
        .contact-menu {
            position: absolute; top: 60px; left: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
            border: 1px solid #ddd; border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: none; padding: 15px; width: 250px; z-index: 999;
            animation: fadeIn 0.5s ease-in;
        }
        .contact-menu.show { display: block; }
        .product-card {
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            border-radius: 15px; box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            margin: 20px 0; padding: 25px;
            transition: transform 0.3s, box-shadow 0.3s;
            animation: bounceIn 0.8s ease-out;
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        .product-card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .btn-primary { background: linear-gradient(90deg, #1976d2 0%, #0d47a1 100%); border: none; transition: all 0.3s; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .btn-primary:hover { background: linear-gradient(90deg, #0d47a1 0%, #000000 100%); transform: translateY(-2px); }
        .btn-success { background: linear-gradient(90deg, #4caf50 0%, #388e3c 100%); border: none; transition: all 0.3s; }
        .btn-success:hover, .btn-danger:hover, .btn-secondary:hover, .btn-info:hover { transform: translateY(-2px); }
        .btn-danger { background: linear-gradient(90deg, #f44336 0%, #d32f2f 100%); border: none; transition: all 0.3s; }
        .btn-secondary { background: linear-gradient(90deg, #757575 0%, #000000 100%); border: none; transition: all 0.3s; }
        .btn-info { background: linear-gradient(90deg, #00bcd4 0%, #0097a7 100%); border: none; transition: all 0.3s; }
        #dashboard { display: none; margin-top: 50px; animation: fadeIn 0.5s ease-in; }
        .order-form {
            background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
            padding: 25px; border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            animation: slideUp 0.8s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        footer {
            background: linear-gradient(90deg, #0d47a1 0%, #000000 100%);
            color: white; text-align: center;
            padding: 25px; margin-top: 50px;
            box-shadow: 0 -4px 10px rgba(0,0,0,0.3);
            animation: fadeIn 1s ease-in;
        }
        h1, h2, h4 { font-weight: 700; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }
        p { font-weight: 300; }
    </style>
</head>
<body>
    <header ondblclick="checkAdminAccess()">
        <div class="hamburger" onclick="toggleContactMenu()">
            <div></div><div></div><div></div>
        </div>
        <h1>Jasa Joki Terpercaya</h1>
        <p>Pesan jasa joki Anda sekarang! Cepat, aman, dan terpercaya.</p>
    </header>

    <div class="contact-menu" id="contactMenu">
        <h5>Kontak Kami</h5>
        <p><strong>Email:</strong> admin@jokiterpercaya.com</p>
        <p>Hubungi kami untuk pertanyaan atau dukungan! Kami akan segera merespons.</p>
    </div>

    <div class="container mt-5">
        <section id="about">
            <h2 class="text-center mb-4">Tentang Kami</h2>
            <p class="text-center">Kami menyediakan jasa joki untuk berbagai kebutuhan, seperti joki laporan, joki makalah, dan joki lainnya. Tim kami siap membantu Anda mencapai target dengan cepat dan efisien. Pesan sekarang dan dapatkan hasil terbaik!</p>
        </section>

        <section id="products" class="mt-5">
            <h2 class="text-center mb-4">Produk Joki Kami</h2>
            <div class="row">
                <div class="col-md-4"><div class="product-card"><h4>JOKI LAPORAN</h4><p>Harga sesuai tingkat kesulitan.</p><p><strong>Rp 50.000 - Rp 80.000</strong></p></div></div>
                <div class="col-md-4"><div class="product-card"><h4>JOKI MAKALAH</h4><p>Harga sesuai tingkat kesulitan.</p><p><strong>Rp 75.000 - Rp 100.000</strong></p></div></div>
                <div class="col-md-4"><div class="product-card"><h4>JOKI LAINNYA</h4><p>Custom sesuai kebutuhan Anda.</p><p><strong>Harga: Sesuai Kesepakatan</strong></p></div></div>
            </div>
        </section>

        <section id="order" class="mt-5">
            <h2 class="text-center mb-4">Pesan Jasa Joki Sekarang</h2>

            <!-- Form diperbarui: setiap input punya name, method POST, target ke iframe -->
            <div class="order-form">
                <form id="orderForm" method="post" target="hidden_iframe">
                    <div class="mb-3">
                        <label for="product" class="form-label">Pilih Produk Joki</label>
                        <select class="form-control" id="product" name="product" required>
                            <option value="">-- Pilih Produk --</option>
                            <option value="JOKI LAPORAN">JOKI LAPORAN</option>
                            <option value="JOKI MAKALAH">JOKI MAKALAH</option>
                            <option value="JOKI LAINNYA">JOKI LAINNYA</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="notes" class="form-label">Catatan</label>
                        <textarea class="form-control" id="notes" name="notes" rows="4" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="name" class="form-label">Nama</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="mb-3">
                        <label for="contact" class="form-label">Kontak (Email/WA)</label>
                        <input type="text" class="form-control" id="contact" name="contact" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Kirim Pesanan</button>
                </form>

                <!-- iframe tersembunyi sebagai target POST (menghindari CORS dari fetch) -->
                <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
            </div>
        </section>
    </div>

    <footer>
        <p>Butuh bantuan? Hubungi admin via WhatsApp</p>
        <a href="https://wa.me/6287866051265?text=Halo%20Admin,%20saya%20ingin%20bertanya%20tentang%20jasa%20joki." class="btn btn-success" target="_blank">Hubungi Admin</a>
    </footer>

    <script>
        const adminPassword = "bowokeren";

        function toggleContactMenu() {
            document.getElementById('contactMenu').classList.toggle('show');
            document.querySelector('.hamburger').classList.toggle('active');
        }

        function checkAdminAccess() {
            const password = prompt("Masukkan password admin:");
            if (password === adminPassword) alert("Akses admin diterima!");
            else alert("Password salah!");
        }

        // --- GANTI INI dengan Web App URL yang kamu dapatkan dari Deploy -> Web app ---
        const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyDRQJFEwd8uHFtdDDF0jOrHQaBR7mhmc0Lu9pVaONBA-g2JkknGgCrrZnOU9-V_nQXVw/exec";

        // Handler submit: simpan lokal + kirim form POST ke Web App via iframe
        const form = document.getElementById('orderForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            // validasi HTML5
            if (!form.reportValidity()) return;

            // backup lokal
            const orderBackup = {
                product: document.getElementById('product').value,
                notes: document.getElementById('notes').value,
                name: document.getElementById('name').value,
                contact: document.getElementById('contact').value,
                timestamp: new Date().toLocaleString()
            };
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            orders.push(orderBackup);
            localStorage.setItem('orders', JSON.stringify(orders));

            // set action ke Web App dan submit ke iframe
            form.action = WEB_APP_URL;
            form.target = "hidden_iframe";

            // submit form (POST) ke Apps Script — tidak diblokir CORS
            form.submit();

            // berikan umpan balik ke user (iframe response cross-origin => kita menunggu dan asumsikan berhasil)
            setTimeout(() => {
                alert("✅ Pesanan dikirim. Silakan cek Google Sheet untuk konfirmasi.");
                form.reset();
            }, 800);
        });
    </script>
</body>
</html>
